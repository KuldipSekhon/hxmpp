
/*

<iq from="tong@jabber.spektral.at" type="result" id="tIZse_10" to="tong.disktree@gmail.com/HXMPP8A9AF13B"><vCard xmlns="vcard-temp">
 <NICKNAME/>
 <URL>http://disktree.net</URL>
 <ORG>
 <ORGNAME>disktree</ORGNAME>
</ORG>
 
<PHOTO><TYPE>image/png</TYPE><BINVAL>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</BINVAL></PHOTO></vCard></iq>

*/
class TestXMPPVCardTemp extends TestCase {
	
	public function testParse() {
		var x = Xml.parse('<vCard xmlns="vcard-temp"><NICKNAME/>
<URL>http://disktree.net</URL>
<ORG>
	<ORGNAME>disktree</ORGNAME>
</ORG>
<PHOTO><TYPE>image/png</TYPE><BINVAL>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</BINVAL>
</PHOTO>
</vCard>').firstElement();
		
		var vc = xmpp.VCardTemp.parse( x );
  		eq( "http://disktree.net", vc.url );
  		eq( "image/png", vc.photo.type );
  		eq( "disktree", vc.org.orgname );
  		eq( null, vc.org.orgunit );
  		eq( "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", vc.photo.binval );
  		
		x = Xml.parse('<vCard xmlns="vcard-temp">
    <FN>Peter Saint-Andre</FN>
    <N>
      <FAMILY>Saint-Andre</FAMILY>
      <GIVEN>Peter</GIVEN>
      <MIDDLE/>
    </N>
    <NICKNAME>stpeter</NICKNAME>
    <URL>http://www.xmpp.org/xsf/people/stpeter.shtml</URL>
    <BDAY>1966-08-06</BDAY>
    <ORG>
      <ORGNAME>XMPP Standards Foundation</ORGNAME>
      <ORGUNIT/>
    </ORG>
    <TITLE>Executive Director</TITLE>
    <ROLE>Patron Saint</ROLE>
    <TEL><WORK/><VOICE/><NUMBER>303-308-3282</NUMBER></TEL>
    <TEL><WORK/><FAX/><NUMBER/></TEL>
    <TEL><WORK/><MSG/><NUMBER/></TEL>
    <ADR>
      <WORK/>
      <EXTADD>Suite 600</EXTADD>
      <STREET>1899 Wynkoop Street</STREET>
      <LOCALITY>Denver</LOCALITY>
      <REGION>CO</REGION>
      <PCODE>80202</PCODE>
      <CTRY>USA</CTRY>
    </ADR>
    <TEL><HOME/><VOICE/><NUMBER>303-555-1212</NUMBER></TEL>
    <TEL><HOME/><FAX/><NUMBER/></TEL>
    <TEL><HOME/><MSG/><NUMBER/></TEL>
    <ADR>
      <HOME/>
      <EXTADD/>
      <STREET/>
      <LOCALITY>Denver</LOCALITY>
      <REGION>CO</REGION>
      <PCODE>80209</PCODE>
      <CTRY>USA</CTRY>
    </ADR>
    <EMAIL><INTERNET/><PREF/><USERID>stpeter@jabber.org</USERID></EMAIL>
    <JABBERID>stpeter@jabber.org</JABBERID>
    <DESC>Check out my blog at https://stpeter.im/</DESC>
  </vCard>' ).firstElement();
  		
  		var vc = xmpp.VCardTemp.parse( x );
  		
  		eq( "Peter Saint-Andre", vc.fn );
  		eq( "Saint-Andre", vc.n.family );
  		eq( "Peter", vc.n.given );
  		eq( "stpeter", vc.nickname );
  		eq( "http://www.xmpp.org/xsf/people/stpeter.shtml", vc.url );
  		eq( "1966-08-06", vc.birthday );
  		eq( "XMPP Standards Foundation", vc.org.orgname );
  		eq( "Executive Director", vc.title );
  		eq( "Patron Saint", vc.role );
  		eq( "XMPP Standards Foundation", vc.org.orgname );
  		
  		//TODO
  		//eq( "TEL", vc.org.name );
  		//trace(vc.tels);
  		
  		eq( "Denver", vc.addresses[0].locality );
  		eq( "CO", vc.addresses[0].region );
  		eq( "80202", vc.addresses[0].pcode );
  		eq( "USA", vc.addresses[0].ctry );
  		eq( "Denver", vc.addresses[1].locality );
  		eq( "CO", vc.addresses[1].region );
  		eq( "80209", vc.addresses[1].pcode );
  		eq( "USA", vc.addresses[1].ctry );
  		eq( "stpeter@jabber.org", vc.email.userid );
  		eq( "Check out my blog at https://stpeter.im/", vc.desc );
  		eq( "stpeter@jabber.org", vc.jid);
  		
	}
	
}
